---
// src/views/Contact/index.astro
import { t } from '../../i18n/i18n';
import type { Locale } from '../../i18n/i18n';
import MainLayout from '../../layouts/MainLayout.astro';
import Breadcrumb from '../../components/common/Breadcrumb/Breadcrumb.astro';
import FormContact from '../../components/contact/FormContact.astro';
import OfficesTabs from '../../components/contact/OfficesTabs.jsx';

// Import locale files statically
import contactEs from '../../locales/es/contact.json';
import contactEn from '../../locales/en/contact.json';

// Importar estilos separados
import './styles.css';

interface Props {
  title: string;
  class?: string;
  description?: string;
  currentLang: Locale;
}

const { currentLang } = Astro.props;

// Get current locale if not provided
const langFromUrl = (Astro.url.pathname.split('/')[1] || 'es') as Locale;
const locale: Locale = currentLang || (langFromUrl === 'en' ? 'en' : 'es');

// Get contact data from locale
const contact = locale === 'es' ? contactEs : contactEn;

// Meta information
const title = contact.title;
const metaDescription = contact.description;
---

<MainLayout title={title} class="bg-primary" description={metaDescription}>
  <div class="bg-yellow w-full mx-auto">
    

    <div class="w-full bg-yellow py-12 md:py-16">
      <div class="container mx-auto px-4">
        
        <div class="mt-8 grid grid-cols-1 lg:grid-cols-12 gap-10 lg:gap-14 items-start">
          <div class="lg:col-span-6">
            <h1 class="text-blue font-title font-extrabold italic leading-[0.95] text-5xl sm:text-6xl md:text-7xl whitespace-pre-line">
              {contact.title}
            </h1>

            <p class="mt-6 text-black font-text font-semibold text-base sm:text-lg max-w-xl">
              {contact.description}
            </p>
          </div>

          <div class="lg:col-span-6">
            <FormContact currentLang={locale} />
          </div>
        </div>
      </div>
    </div>
    
    <div data-no-animate>
      <OfficesTabs client:load title={contact.offices.title} locations={contact.offices.locations} />
    </div>
  </div>
</MainLayout>