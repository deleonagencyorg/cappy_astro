---
// src/components/pages/ProductsPage.astro
import { t } from '../../i18n/i18n';
import type { Locale } from '../../i18n/i18n';
import { getLocale } from '../../i18n/i18n';
import VideoCarousel from '../../components/common/VideoCarousel/index.astro';
import ProductsFilterGrid from '../../components/common/ProductsFilterGrid.jsx';

const currentLang = getLocale();
const products = t('items', { namespace: 'products', locale: currentLang });
const categories = t('categories', { namespace: 'products', locale: currentLang }) || {};
const slides = t('carousel', { namespace: 'products', locale: currentLang }) || [];
---

<div class="w-full bg-yellow py-6 md:py-10">
  <div class="container mx-auto px-4">
    <div class="relative w-full overflow-hidden">
      <VideoCarousel 
        slides={slides}
        height="500px"
        mobileHeight="500px"
        showOverlay={false}
        width="100%"
        borderRadius="24px"
      />
    </div>
  </div>

  <div class="container mx-auto px-4 pt-10 pb-16">
    <ProductsFilterGrid
      client:load
      products={products}
      categories={categories}
      currentLang={currentLang}
    />
  </div>
</div>

